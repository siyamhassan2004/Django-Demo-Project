{% include "dashboard/header.html" %}

{% block extra_css %}
<style>
/* two-column layout */
.page-wrapper {
  display: flex;
  gap: 24px;
  margin-top: 2rem;
  align-items: flex-start;
}

/* left: suggestions area */
.suggestions { flex: 1; }

/* right: friend list sidebar (fixed width + sticky) */
.friendlist {
  flex: 0 0 320px;            /* sidebar width */
  position: sticky;
  top: 20px;                   /* sticks while scrolling */
}

/* suggestions grid: responsive columns */
.grid {
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(1, minmax(0, 1fr));   /* 1 per row by default */
}
@media (min-width: 700px) {                            /* md: 2 per row */
  .grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (min-width: 1100px) {                           /* lg: 3 per row */
  .grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

/* cards + styling (kept from yours, trimmed) */
.container {
  background: #e0e5ec;
  padding: 1.5rem;
  border-radius: 20px;
  box-shadow: 10px 10px 30px #bec3c9, -10px -10px 30px #ffffff;
  text-align: left;
}
.username { font-weight: 700; margin-bottom: .5rem; }
.content { color:#555; margin-bottom: 1rem; }
.action-btn {
  width: 100%;
  padding: .75rem 1rem;
  border: 0;
  border-radius: 12px;
  background: #e0e5ec;
  box-shadow: 5px 5px 10px #bec3c9, -5px -5px 10px #ffffff;
  font-weight: 700; cursor: pointer;
}
.action-btn a { color: inherit; text-decoration: none; display:block; }

/* friend list styles */
.friend-list { list-style: none; padding: 0; margin: 1rem 0 0; }
.friend {
  background: #f1f3f6;
  margin: .5rem 0; padding: .7rem 1rem;
  border-radius: 12px;
  box-shadow: inset 2px 2px 5px #c9cdd2, inset -2px -2px 5px #ffffff;
  color: #333; font-weight: 500;
}
</style>
{% endblock %}

<div class="page-wrapper">

  <!-- Left: Suggestions -->
  <div class="suggestions">
    <h2>üîç Friend Suggestions</h2>
    <div class="grid">
      {% for u,v in user_data.items %}
        <div class="container">
          <h3 class="username">{{ v.0 }}</h3>
          <p class="content">{{ v.1 }} {{ v.2 }}</p>
          <button class="action-btn">
            <a href="{% url 'send_friend_request' u %}"><i>‚ûï</i> Send Friend Request</a>
          </button>
        </div>
      {% endfor %}
    </div>
  </div>

  <!-- Right: Friend list -->
  <div class="friendlist">
    <h2>üë• Friend List</h2>
    <ul class="friend-list">
      {% for friend in friends %}
        <li class="friend">{{ friend.name }}<br>({{ friend.email }})</li>
      {% empty %}
        <li class="friend">No friends added yet.</li>
      {% endfor %}
    </ul>
  </div>

</div>

{% include "dashboard/footer.html" %}